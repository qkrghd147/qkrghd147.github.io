---
layout: post
title: Git 마스터하기
author: Bakong
date: 2020-09-03 19:31:00 +0800
tag: [코딩, 공부]
category: 코딩공부
---

## 브랜치(Branch)


**브랜치(branch)** : 기존 내용을 유지한 채 새로운 내용을 기입하고 싶을때 사용

작업을 할 때 **체크아웃** 하기 위해서 브랜치를 만들면 된다. 게임의 세이브 파일 개념으로 생각하면 편함

- 체크아웃 : 특정 브랜치 혹은 커밋 으로 돌아가고 싶을 때 사용

소스트리에선 브랜치를 만들고 더블클릭 함으로 돌아갈 수 있다.

브랜치를 따로 커밋된다.

마스터 브랜치는 기본적으로 존재하며 만들고자 하는 앱이나 디자인의 최종본은 항상 마스터에두고 작업은 브랜치에서! 그 이후에 최종병합(merge)를 통해서 합친다!

## 병합(merge)

병합(merge) : 하나의 브랜치를 현재 브랜치와 합치는 것을 병합이라고 한다.

현재 브랜치는 HEAD브랜치라 칭함

EX) 헤드 브랜치가 A 일때 B브랜치를 병합하면 B의 내용이 A에 반영되게 된다!

**주의 : 병합과정에서 충돌이 일어날 수도 있음!!**

Fast-foward

헤드 브랜치에 변경사항이 없고, 병합 대상 브랜치가 헤드로부터 시작된 경우 아주 쉽게 병합이 가능하다.

헤드브랜치에 추가적인 커밋이 생기는 경우 병합이 필요해짐. 충돌이 나더라도 걱정하지 않기!

* **병합과정에서 충돌을 방지하려면?** : 보통 다른 파일에서 작업을 하면 충돌이 잘 나지 않는다.  

## 충돌 해결하기

**협업을 할시 다른 컴퓨터에서 공동으로 작업하게 되면 내 로컬보다 서버가 앞선 경우가 많으니 소스트리를 이용해 PULL을 해서 로컬로 정보를 가져올것**

* 충돌이 난 후에 에디터를 사용해서 불필요한 부분을 제거하고 저장 후 다시 커밋하기

* 소스트리에서 '충돌해결'메뉴를 이용하여 내것 또는 저장소것을 구분하여 병합하기

## 이전 커밋으로 되돌리기

1. 소스트리에서 '이 커밋까지 현재 브랜치를 초기화'(reset) 메뉴에서 'hard'모드를 이용 : 

* 쉽지만 커밋이 날아간다.

* 강제 푸시가 필요하다. - 푸시할 때 강제푸시 항목 체크 (명령어로는 git push --force)

**커밋을 할 땐 실 없는 글 적지않기 - 수정 내용을 포함시켜라!**

2. 브랜치를 만들어서 되돌아가기(추천방법!)

* 장점 : 쉽다! , reset과는 다르게 사라지지 않는다.
* 단점 : 트리가 지저분해진다.

체크포인트를 브랜치를 통해서 만드는것!

3. revert

* 장점 : 가장 정석이다.
* 단점 : 충돌이 날 수 있다.

'커밋 되돌리기' 메뉴를 이요해서 사용한다. 커밋을 남기고 되돌리기 때문에 커밋이 사라지는 걱정은 하지않아도 됨!

EX)
(부모) -> (자식) 자식을 revert하면
(부모) -> (자식) -> (손자) 형식으로 '부모'와 내용이 같은 '손자'가 생성됨. 자식은 그대로!

## stash를 통한 작업내용 저장 

* 다른 브랜치로 체크아웃하기 전에 현재 작업내용을 저장하는 임시 저장소

1. 브랜치1에서 임시 커밋을 한다
2. 브랜치2로 체크아웃하고 볼 일을 본다
3. 다시 브랜치1로 되돌아 온다
4. 1의 작업을 이어서 마무리 짓는다.
5. 커밋 덮어쓰기(commit --amend)를 한다.
6. (선택)필요하다면 (push --force)를 한다.
